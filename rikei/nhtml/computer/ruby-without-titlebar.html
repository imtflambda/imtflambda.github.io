<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<head>
<html lang="ja">
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" type="text/css" href="../../css/css.css">
</head>
<body >
<div class="base">
<div class="hidari">
	<iframe src="../../../nhtml/profile.html" width="100%" height="52%"></iframe>
	<iframe src="../../nhtml/menu.html" width="100%" height="30%"></iframe>
	<iframe src="https://free.timeanddate.com/clock/i8pob63s/n248/szw110/szh110/hoc222/hbw6/cf100/hgr0/hcw2/hcd88/fan2/fas20/fnu2/fdi70/mqc000/mqs3/mql13/mqw4/mqd94/mhc000/mhs3/mhl13/mhw4/mhd94/mmc000/mml5/mmw1/mmd94/hwm1/hhs2/hhb18/hms2/hml80/hmb18/hmr7/hsc000/hss2/hsl90/hsr3" frameborder="0" width="110" height="110"></iframe>
</div>
<div class="migi">
<h1>Rubyでのタイトルバーなしのウィンドウ</h1>
<div class="honbun">
<h4>・プログラミング言語Ruby</h4>
<div class="honbun2">
　プログラミング言語の一つにRubyというものがある。日本で開発されたもので、日本語の文献が多い特徴を持つ。ところが、C#,C++,python,java,rustなどに言語が台頭している今、Rubyを扱う記事は少なく、記事も2000年代に書かれているものなど古いものが多いので参考にするときに困ることがある。今回はタイトルバーなしのウィンドウをRubyで作ろうとして躓いたのでこちらに記す。
</div>
</div>
<div class="honbun">
<h4>・Tkの利用</h4>
<div class="honbun2">
　RubyでGUIを扱うときは当然他の言語と同じようにGUIライブラリを使うことになる。Rubyで使うものとするとGTK,Tk,libuiなどがあるが、今回は「タイトルバーなしのウィンドウを作る」という制限がついている。真っ先に思いかぶのはGTKでwindow_set_decoratedを利用することだが、Rubyだとこれが用意されていないかこれを利用したサンプル例がインターネット上に全く見当たらない。(個人で色々試行錯誤したが無理だった。)なので、Tkのoverrideredirectを使うことになる。Ruby/Tkに関してはインストール方法やサンプルをまとめた便利な<a href="http://www.nct9.ne.jp/m_hiroi/light/rubytk01.html" target="_blank">記事</a>があるのでそれを参照してインストールし、以下のプログラムを記述する。(最低640*480のウィンドウで実行すること)<br><br>
<i><b>
require 'tk'<br><br>
rootwindow = TkRoot.new<br>
rootwindow.overrideredirect(true)<br>
rootwindow.geometry = "300x300+0+0"<br><br>
Tk.mainloop<br><br>
</i></b>
<img src="./img/ruby-without-titlebar.jpg" width="50%"><br>
(LinuxMint 21.3で実行)<br>
プログラムの作成にあたり、<a href="https://web.archive.org/web/20100405032834/https://www.dumbo.ai.kyutech.ac.jp/nagai/RubyTk/?Ruby%2FTk%A5%BB%A5%DF%A5%CA%A1%BC%282004%2F12%2F11%29" target="_blank">2004年の九工大の記事</a>を参考にしたが、<a href="http://blog.livedoor.jp/skyfish121/archives/231803.html">こちらのサイト</a>のほうが詳しい(後から気付いた)。
左上に灰色のウィンドウが表示されれば成功。この状態ではウィンドウを閉じることができないのでターミナルでCtrl+Cを入力し終了する。<br>
<br>
</div>
</div>
<div class="honbun">
<h4>・参考</h4>
<div class="honbun2">
<a href="http://www.nct9.ne.jp/m_hiroi/light/rubytk01.html" target="_blank">お気楽 Ruby/Tk 超入門 ---- M.Hiroi's Home Page </a><br>
<a href="http://blog.livedoor.jp/skyfish121/archives/231803.html" target="_blank">Ruby/Tk rootの処理色々 --- 徒然ガラクタ収集所</a><br>
<a href="https://web.archive.org/web/20100405032834/https://www.dumbo.ai.kyutech.ac.jp/nagai/RubyTk/?Ruby%2FTk%A5%BB%A5%DF%A5%CA%A1%BC%282004%2F12%2F11%29" target="_blank">Ruby/Tkセミナー(2004/12/11) --- 九州工業大学</a><br>
</div>
</div>
<div class="koushin">
記事作成日:2024/03/27<br>
最終更新日:2024/09/12<br>
執筆：虚時間fλ
</div>
</div>
</div>
</div>
</body>
